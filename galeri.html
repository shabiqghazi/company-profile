<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile</title>
    <link rel="stylesheet" href="/dist/output.css" />
    <link rel="stylesheet" href="/dist/style.css" />
    <link
      href="
        https://cdn.jsdelivr.net/npm/@flaticon/flaticon-uicons@3.3.1/css/all/all.min.css
        "
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="/node_modules/photoswipe/dist/photoswipe.css"
    />
  </head>
  <body>
    <div
      class="bg-darker fixed w-72 text-center top-10 -left-20 z-50 text-white py-3 font-bold shadow-lg -rotate-45"
    >
      P R E V I E W
    </div>
    <div
      class="h-[75vh] w-full flex items-center bg-center bg-[linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)),url('../assets/img/leading_background.jpg')] bg-cover"
      id="featured"
    >
      <header
        class="absolute top-0 w-full h-20 flex justify-between items-center text-white wrapper transition-all duration-500 z-20"
      >
        <div class="flex gap-3">
          <button id="nav-open" class="lg:hidden">
            <i class="fi fi-sr-menu-burger text-xl flex items-center"></i>
          </button>
          <h1 class="font-black text-xl" id="nav-brand">Sabiq Travel</h1>
        </div>
        <div
          class="transition-all flex gap-9 lg:static absolute lg:bg-transparent bg-green-50 w-screen lg:w-fit h-screen lg:h-fit top-0 text-darker lg:text-white flex-col lg:flex-row wrapper lg:p-0"
          style="right: 100%"
          id="nav-collapse"
        >
          <div class="h-20 flex items-center lg:hidden">
            <button id="nav-close">
              <i class="fi fi-sr-cross text-lg flex items-center"></i>
            </button>
          </div>
          <a href="/" class="menu-item">Beranda</a>
          <a href="#" class="menu-item">Tentang</a>
          <a href="#" class="menu-item">Galeri</a>
        </div>
        <button class="bg-light px-6 py-2 rounded-full text-dark">
          Hubungi Kami
        </button>
      </header>
      <div class="wrapper flex flex-col gap-5 w-full">
        <h1
          class="w-full text-4xl leading-loose text-white font-bold text-center md:text-left"
        >
          Galeri
        </h1>
      </div>
    </div>
    <div
      class="wrapper py-32 text-dark flex flex-col bg-green-50 gap-16"
      id="my-gallery"
    >
      <h2 class="text-4xl font-bold text-center text-dark">
        Perjalanan Kesuksesan Kami
      </h2>
      <div class="w-full grid md:grid-cols-4 grid-cols-2 gap-4 items-center">
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/1.jpg"
            data-pswp-src="./assets/img/gallery/1.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/1.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/2.jpg"
            data-pswp-src="./assets/img/gallery/2.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/2.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/3.jpg"
            data-pswp-src="./assets/img/gallery/3.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/3.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/4.jpg"
            data-pswp-src="./assets/img/gallery/4.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/4.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/5.jpg"
            data-pswp-src="./assets/img/gallery/5.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/5.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/6.jpg"
            data-pswp-src="./assets/img/gallery/6.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/6.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/7.jpg"
            data-pswp-src="./assets/img/gallery/7.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/7.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/8.jpg"
            data-pswp-src="./assets/img/gallery/8.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/8.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/9.jpg"
            data-pswp-src="./assets/img/gallery/9.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/9.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/10.jpg"
            data-pswp-src="./assets/img/gallery/10.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/10.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/11.jpg"
            data-pswp-src="./assets/img/gallery/11.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/11.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
        <figure
          class="bg-white shadow-lg flex flex-col items-center rounded gap-3 aspect-video overflow-clip"
        >
          <a
            href="./assets/img/gallery/12.jpg"
            data-pswp-src="./assets/img/gallery/12.jpg"
            data-cropped="true"
            target="_blank"
            class="w-full h-full"
          >
            <img
              src="./assets/img/gallery/12.jpg"
              alt=""
              class="w-full h-full object-cover"
            />
          </a>
        </figure>
      </div>
    </div>

    <footer class="wrapper flex flex-col bg-darker text-white leading-loose">
      <div class="py-16 grid lg:grid-cols-3 grid-cols-1 gap-12">
        <div class="flex flex-col gap-5 py-5">
          <h2 class="text-2xl font-bold">Sabiq Travel</h2>
          <p>
            "Kesejatian Hidup, <br />
            Berkah di Setiap Jejak Haji dan Umrah."
          </p>
        </div>
        <div class="flex flex-col gap-5 py-5">
          <h2 class="text-2xl font-bold">Tautan</h2>
          <div class="flex flex-col gap-2">
            <a href="#">Beranda</a>
            <a href="#">Tentang</a>
            <a href="#">Galeri</a>
          </div>
        </div>
        <div class="flex flex-col gap-5 py-5">
          <h2 class="text-2xl font-bold">Kontak Kami</h2>
          <div class="flex flex-col gap-2">
            <p class="gap-2 flex">
              <i class="fi fi-sr-envelope flex items-center"></i
              ><span>admin@shabiq.travel</span>
            </p>
            <p class="gap-2 flex">
              <i class="fi fi-sr-phone-flip flex items-center"></i
              ><span>+62 8123 4567 8910 </span>
            </p>
            <p class="gap-2 flex items-start">
              <i class="fi fi-sr-marker flex items-center"></i>
              <span>
                Jalan Raya Rajapolah No.123, Desa Rajapolah, Kec. Rajapolah, Kab
                Tasikmalaya, Jawa Barat 46155
              </span>
            </p>
          </div>
        </div>
      </div>
      <div class="flex justify-center py-4 border-t border-light">
        Copyright &copy; Shabiq Travel 2025
      </div>
    </footer>
    <script src="./dist/carousel.js"></script>
    <script src="./dist/header.js"></script>
    <script type="module">
      import PhotoSwipeLightbox from "/node_modules/photoswipe/dist/photoswipe-lightbox.esm.js";

      // helper
      function getImageSize(src) {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () =>
            resolve({ w: img.naturalWidth, h: img.naturalHeight });
          img.onerror = reject;
          img.src = src;
        });
      }

      async function prepareAndInit() {
        const anchors = Array.from(document.querySelectorAll("#my-gallery a"));

        // untuk setiap anchor: kalau belum punya data-pswp-width/height, ambil ukurannya
        const tasks = anchors.map(async (a) => {
          if (!a.dataset.pswpWidth || !a.dataset.pswpHeight) {
            // pastikan src yang dipakai adalah href (bukan src img thumb)
            const src = a.getAttribute("href");
            try {
              const { w, h } = await getImageSize(src);
              a.setAttribute("data-pswp-width", w);
              a.setAttribute("data-pswp-height", h);
            } catch (err) {
              // jika gagal, bisa set fallback ukuran (mis. 1200x800) atau abaikan
              console.warn("Gagal load", src, err);
            }
          }
        });

        await Promise.all(tasks);

        const lightbox = new PhotoSwipeLightbox({
          gallery: "#my-gallery",
          children: "a",
          pswpModule: () =>
            import("/node_modules/photoswipe/dist/photoswipe.esm.js"),
        });

        lightbox.init();
      }

      prepareAndInit();
    </script>
  </body>
</html>
